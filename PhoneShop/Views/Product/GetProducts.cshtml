@{
}
@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration
@model PhoneShop.DataAccess.DTO.ProductGetReturnData

@if (Model != null && Model.Products != null && Model.Products.Count > 0)
{
    <div class="card-body p-0" id="products-body">
        <table class="table table-striped projects">
            <thead>
                <tr>
                    <th style="width: 1%">
                        Mã
                    </th>
                    <th style="width: 20%">
                        Tên sản phẩm
                    </th>
                    <th style="width: 30%">
                        Nhãn hàng
                    </th>
                    <th>
                        Danh mục
                    </th>
                    <th style="width: 20%">
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Products)
                {
                    <tr>
                        <td>@item.ProductID</td>
                        <td>
                            <a>
                                @item.ProductName
                            </a>
                            <br />
                            <small>
                                @item.CreatedDate.GetValueOrDefault().ToShortDateString()
                            </small>
                        </td>
                        <td>
                            @if (Model.Brands != null)
                            {
                                var brand = Model.Brands.Find(x => x.BrandID == item.BrandID);
                                <a href="#" onclick="ProductFilter(@item.BrandID, @Model.CurrentCategory)">
                                    @brand?.BrandName
                                </a>
                            }
                        </td>
                        <td>
                            @if (Model.Categories != null)
                            {
                                var category = Model.Categories.Find(x => x.CategoryID == item.CategoryID);
                                <a href="#" onclick="ProductFilter(@Model.CurrentBrand, @item.CategoryID)">
                                    @category?.CategoryName
                                </a>
                            }
                        </td>
                        <td class="project-actions text-right">
                            <a class="btn btn-info btn-sm" href="#">
                                <i class="fas fa-pencil-alt">
                                </i>
                                Sửa
                            </a>
                            <a class="btn btn-danger btn-sm" href="#">
                                <i class="fas fa-trash">
                                </i>
                                Xoá
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <!-- /.card-body -->
    @if (Model.MaxPageCount > 1)
    {
        <div class="card-footer" id="products-paging">
            <nav aria-label="Contacts Page Navigation">
                <ul class="pagination justify-content-center m-0">
                    @for (int i = 1; i < Model.MaxPageCount; i++)
                    {
                        if (i == Model.CurrentPage)
                        {
                            <li class="page-item active"><a class="page-link" href="#">@i</a></li>
                        }
                        else
                        {
                            <li class="page-item inactive" data-productpage="@i"><a class="page-link" href="#">@i</a></li>
                        }
                    }
                </ul>
            </nav>
        </div>
    }
}
else
{
    <div class="d-flex justify-content-center p-3" id="products-body">
        <img src="@Configuration["API_URL:URL"]Upload/empty-product.png" height="200">
    </div>
    <p id="products-paging" class="text-center text-green">Không có sản phẩm nào</p>
}